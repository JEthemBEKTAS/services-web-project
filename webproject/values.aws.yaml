# Ton FQDN en prod
domain: prod.example.com

ingress:
  enabled: true
  className: alb
  annotations:
    kubernetes.io/ingress.class: alb
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/target-type: ip
    alb.ingress.kubernetes.io/load-balancer-name: webproject-alb
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTPS":443}]'
    alb.ingress.kubernetes.io/ssl-redirect: '443'
    alb.ingress.kubernetes.io/certificate-arn: arn:aws:acm:eu-west-1:XXXXXXXXXXXX:certificate/XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX

# Très important : on ne crée PAS de Certificate K8s (TLS est terminé par l'ALB)
tls:
  enabled: false


externalSecrets:
  enabled: true
  region: "us-east-1"   # mets la région EXACTE de ton EKS/ALB/ACM
  dbKey:    "/${project}/app/db"     # ==> doit correspondre à terraform/secrets.tf
  saltsKey: "/${project}/app/salts"

database:
  host: mydb.cluster-abcdefghij.eu-west-1.rds.amazonaws.com
  port: 3306

secrets:
  db:    { name: db-credentials }     # doit matcher externalsecret-db.yaml
  salts: { name: wordpress-salts }    # doit matcher externalsecret-salts.yaml
